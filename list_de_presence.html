                                                                                                                                                                                 <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Attendance System</title>

    <style>
        table { border-collapse: collapse; width: 90%; margin-top: 20px; }
        th, td { border: 1px solid #000; padding: 8px; text-align: center; }
        h2 { font-family: Arial, sans-serif; }
    </style>
</head>

<body>

<h2>Student Attendance Table</h2>

<table id="attendanceTable">
    <tr>
        <th>Student ID</th>
        <th>Last Name</th>
        <th>First Name</th>

        <!-- Sessions -->
        <th>S1</th><th>S2</th><th>S3</th><th>S4</th><th>S5</th><th>S6</th>

        <!-- Participation -->
        <th>P1</th><th>P2</th><th>P3</th><th>P4</th><th>P5</th><th>P6</th>

        <th>Message</th>
    </tr>

    <tr>
        <td>101</td>
        <td>Ahmed</td><td>Sara</td>
        <td>✓</td><td>✓</td><td></td><td></td><td></td><td></td>
        <td>✓</td><td></td><td></td><td></td><td></td><td></td>
        <td></td>
    </tr>

    <tr>
        <td>102</td>
        <td>Yacine</td><td>Ali</td>
        <td>✓</td><td></td><td>✓</td><td>✓</td><td>✓</td><td>✓</td>
        <td>✓</td><td>✓</td><td>✓</td><td></td><td></td><td></td>
        <td></td>
    </tr>

    <tr>
        <td>103</td>
        <td>Houcine</td><td>Rania</td>
        <td>✓</td><td>✓</td><td></td><td>✓</td><td>✓</td><td></td>
        <td>✓</td><td>✓</td><td></td><td></td><td></td><td></td>
        <td></td>
    </tr>
</table>

<script>
    const rows = document.querySelectorAll("#attendanceTable tr");

    rows.forEach((row, index) => {
        if (index === 0) return; // skip header row

        let cells = row.querySelectorAll("td");
        let abs = 0;
        let par = 0;

        // Count absences from Sessions S1-S6
        for (let i = 3; i < 9; i++) {
            if (cells[i].textContent !== "✓") abs++;
        }

        // Count participations P1-P6
        for (let i = 9; i < 15; i++) {
            if (cells[i].textContent === "✓") par++;
        }

        // Color rows and write message
        let msgCell = cells[15];

        if (abs < 3) {
            row.style.background = "lightgreen";
            msgCell.textContent = "Good attendance – Excellent participation";
        } else if (abs >= 3 && abs <= 4) {
            row.style.background = "yellow";
            msgCell.textContent = "Warning – attendance low – You need to participate more";
        } else {
            row.style.background = "red";
            msgCell.textContent = "Excluded – too many absences";
        }

        msgCell.textContent += ' | Absences: ${abs} | Participation: ${par}'
    });
</script>

</body>
</html>